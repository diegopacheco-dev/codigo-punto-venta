(this["webpackJsonppunto-venta-restaurant"]=this["webpackJsonppunto-venta-restaurant"]||[]).push([[0],{118:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a(24),n=a.n(s),r=a(22),i=a(11),o=a(12),l=Object(c.createContext)(),d=a(40);a(122),a(76);d.a.initializeApp({apiKey:"AIzaSyBmn7vmaGkao4Gx3x5vM5D7cDLNuTb21yc",authDomain:"pos-restaurant-8e45f.firebaseapp.com",projectId:"pos-restaurant-8e45f",storageBucket:"pos-restaurant-8e45f.appspot.com",messagingSenderId:"921793618148",appId:"1:921793618148:web:66ef101d9bad1b35ac4cf1",measurementId:"G-E7RXWYEQM9"});var j=d.a.firestore(),b=d.a.auth(),u=a(35),m=a.n(u),h=a(3),O=function(e){var t=e.children,a=Object(c.useState)({isAuthenticated:!1,usu_nom:null,usu_email:null,usu_id:null,token:null,cargando:!0}),s=Object(o.a)(a,2),n=s[0],r=s[1];return Object(c.useEffect)((function(){b.onAuthStateChanged((function(e){console.log("Comprobando usuario con firebase state"),e?(console.log("USUARIO LOGUEADO"),r({isAuthenticated:!0,usu_nom:e.displayName,usu_email:e.email,usu_id:e.uid,token:e.uid,cargando:!1})):(console.log("USUARIO SIN LOGUEAR"),r({isAuthenticated:!1,usu_nom:null,usu_email:null,usu_id:null,token:null,cargando:!1}))}))}),[]),Object(h.jsx)(l.Provider,{value:{iniciarSesionContext:function(e){localStorage.setItem("token",e.uid),console.log(e),r({isAuthenticated:!0,usu_nom:e.displayName,usu_email:e.email,usu_id:e.uid,token:e.uid,cargando:!1})},isAuthenticated:n.isAuthenticated,usu_nom:n.usu_nom,usu_email:n.usu_email,cargando:n.cargando,cerrarSesion:function(){m.a.fire({title:"Cerrar sesi\xf3n",text:"Desea cerrar sesi\xf3n?",icon:"warning",showCancelButton:!0}).then((function(e){e.isConfirmed&&b.signOut()}))}},children:t})},p=function(){return Object(h.jsx)("div",{children:Object(h.jsx)("h1",{children:"Admin Dashboard"})})},x=a(8),f=a(17),g=a.n(f),v=a(26),N=function(){var e=Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.collection("pedidos").get();case 2:if((t=e.sent).docs){e.next=6;break}return console.log("Error en la peticion de pedidos"),e.abrupt("return");case 6:return a=t.docs.map((function(e){return Object(x.a)({id:e.id},e.data())})),console.log(a),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.collection("pedidos").doc(t).get();case 2:if((a=e.sent).data().mesa.id){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",a.data());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(JSON.stringify(Object(x.a)({},t))),e.next=3,j.collection("pedidos").add(t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=a(71),y=function(e){var t=e.history,a=Object(c.useState)({columns:[{label:"Id",field:"pedido_id"},{label:"Fecha",field:"pedido_fech"},{label:"Nro",field:"pedido_nro"},{label:"Estado",field:"pedido_est"},{label:"Usuario",field:"usuario_nombre"},{label:"Mesa",field:"numero_mesa",sort:"asc"},{label:"Platos",field:"total_platos"},{label:"Acciones",field:"acciones"}],rows:[{pedido_id:"1",pedido_fech:"2",pedido_nro:"3",pedido_est:"4",usuario_nombre:"5",numero_mesa:"6",total_platos:"7",acciones:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("button",{children:"Hola"})})}]}),s=Object(o.a)(a,2),n=s[0],r=s[1];return Object(c.useEffect)((function(){N().then((function(e){var a=e.map((function(e){var a,c,s;return{pedido_id:e.id,pedido_fech:e.pedido_fech,pedido_nro:e.pedido_nro,pedido_est:e.pedido_est,usuario_nombre:(null===(a=e.Usuario)||void 0===a?void 0:a.usu_nom)+(null===(c=e.Usuario)||void 0===c?void 0:c.usu_ape),numero_mesa:null===(s=e.mesa)||void 0===s?void 0:s.nro,total_platos:e.pedidoPlatos.reduce((function(e,t){return e+ +t.pedidoPlato_cant}),0),acciones:Object(h.jsx)("button",{className:"btn btn-dark",onClick:function(){return t.push("/admin/pedidos/".concat(e.id))},children:"Ver Pedido"})}}));r(Object(x.a)(Object(x.a)({},n),{},{rows:a}))}))}),[]),Object(h.jsxs)("main",{className:"container mt-5",children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("h1",{className:"display-4 text-center",children:"Lista de Pedidos"}),Object(h.jsx)("hr",{})]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("div",{className:"card shadow",children:Object(h.jsx)("div",{className:"card-body",children:Object(h.jsx)(S.c,{data:n})})})})})]})},A=function(){return Object(h.jsx)("header",{children:Object(h.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(h.jsxs)("div",{className:"container-fluid",children:[Object(h.jsx)("a",{className:"navbar-brand",href:"#",children:"Navbar"}),Object(h.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(h.jsx)("span",{className:"navbar-toggler-icon"})}),Object(h.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(h.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{className:"nav-link active","aria-current":"page",href:"!#",children:"Home"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{className:"nav-link",href:"!#",children:"Link"})}),Object(h.jsxs)("li",{className:"nav-item dropdown",children:[Object(h.jsx)("a",{className:"nav-link dropdown-toggle",href:"!#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Dropdown"}),Object(h.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(h.jsx)("li",{children:Object(h.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"})}),Object(h.jsx)("li",{children:Object(h.jsx)("hr",{className:"dropdown-divider"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{className:"dropdown-item",href:"!#",children:"Something else here"})})]})]}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{className:"nav-link disabled",href:"!#","tab-index":"-1","aria-disabled":"true",children:"Disabled"})})]}),Object(h.jsxs)("form",{className:"d-flex",children:[Object(h.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"}),Object(h.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]})]})]})})})},C=function(e){var t,a=e.match.params.pedido_id,s=Object(c.useState)({}),n=Object(o.a)(s,2),r=n[0],i=n[1],l=Object(c.useState)(!0),d=Object(o.a)(l,2);d[0],d[1];return Object(c.useEffect)((function(){_(a).then((function(e){console.log(e),i(e)}))}),[]),Object(h.jsxs)("main",{className:"container mt-5",children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("h4",{children:"Informaci\xf3n del Pedido"})})}),Object(h.jsx)("div",{className:"row my-5",children:Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("div",{className:"card shadow",children:Object(h.jsx)("div",{className:"card-body",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md-6",children:Object(h.jsxs)("div",{className:"card-text",children:[Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Pedido Id:"})," \xa0 ",a]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Usuario: "})," \xa0 Diego Pacheco"]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Estado del pedido: "})," \xa0","pagado"==r.pedido_est?Object(h.jsx)("span",{className:"badge bg-success",children:"Pagado"}):Object(h.jsx)("span",{className:"badge bg-primary",children:"pendiente"})]})]})}),Object(h.jsxs)("div",{className:"col-md-6 text-end",children:[Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Fecha: "})," \xa0 ",r.pedido_fech]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"N\xfamero de mesa: "})," \xa0 ",null===(t=r.mesa)||void 0===t?void 0:t.id]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"N\xfamero de pedido:"})," \xa0 ",r.pedido_nro]})]})]})})})})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("div",{className:"card shadow",children:Object(h.jsx)("div",{className:"card-body",children:"Lista de platos"})})})})]})},I=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(A,{}),Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.b,{path:"/admin/dashboard",component:p}),Object(h.jsx)(i.b,{path:"/admin/pedidos/:pedido_id",component:C}),Object(h.jsx)(i.b,{path:"/admin/pedidos",component:y})]})]})},P=a(38),k=(a(118),function(e){var t=Object(c.useContext)(l).iniciarSesionContext,a=Object(c.useState)({email:"",password:""}),s=Object(o.a)(a,2),n=s[0],r=s[1],i=function(e){r(Object(x.a)(Object(x.a)({},n),{},Object(P.a)({},e.target.name,e.target.value)))};return Object(h.jsx)("main",{className:"login",children:Object(h.jsxs)("div",{className:"login__form",children:[Object(h.jsx)("h1",{children:"Inicio de Sesi\xf3n"}),Object(h.jsxs)("form",{className:"formulario",onSubmit:function(a){a.preventDefault(),b.signInWithEmailAndPassword(n.email,n.password).then((function(a){a.user&&(t(a.user),e.history.push("/pos/pedido"))})).catch((function(e){switch(e.code){case"auth/wrong-password":alert("La contrase\xf1a es incorrecta o el usuario no existe"),console.log(e);break;default:console.log(e)}}))},children:[Object(h.jsx)("label",{for:"",children:"Email:"}),Object(h.jsx)("input",{type:"email",name:"email",className:"formulario__input",placeholder:"Email",value:n.email,onChange:i}),Object(h.jsx)("label",{for:"",children:"Password:"}),Object(h.jsx)("input",{type:"password",name:"password",className:"formulario__input",placeholder:"Password",value:n.password,onChange:i}),Object(h.jsx)("button",{className:"formulario__submit",type:"submit",children:"Iniciar Sesi\xf3n"})]})]})})}),E=function(){return Object(h.jsx)("div",{})},D=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.b,{path:"/auth/login",component:k}),Object(h.jsx)(i.b,{path:"/auth/register",component:E})]})})},M=Object(c.createContext)(),L=function(e,t){return"SELECCIONAR_CATEGORIA"===t.type?(localStorage.setItem("state",JSON.stringify(Object(x.a)(Object(x.a)({},e),{},{categoria_global:t.data}))),Object(x.a)(Object(x.a)({},e),{},{categoria_global:t.data})):"SELECCIONAR_MESA"===t.type?(localStorage.setItem("state",JSON.stringify(Object(x.a)(Object(x.a)({},e),{},{mesa_global:t.data}))),Object(x.a)(Object(x.a)({},e),{},{mesa_global:t.data})):"ACTUALIZAR_PEDIDOS"===t.type?(localStorage.setItem("state",JSON.stringify(Object(x.a)(Object(x.a)({},e),{},{pedidos:t.data}))),Object(x.a)(Object(x.a)({},e),{},{pedidos:t.data})):"MODAL_BOLETA"===t.type?(localStorage.setItem("state",JSON.stringify(Object(x.a)(Object(x.a)({},e),{},{modal_boleta:t.data}))),Object(x.a)(Object(x.a)({},e),{},{modal_boleta:t.data})):Object(x.a)({},e)},R=function(e){var t=e.children,a=JSON.parse(localStorage.getItem("state")),s=Object(c.useReducer)(L,a||{categoria_global:null,mesa_global:null,pedidos:[],modal_boleta:!1}),n=Object(o.a)(s,2),r=n[0],i=n[1];return Object(h.jsx)(M.Provider,{value:{seleccionarCategoriaGlobal:function(e){i({data:e,type:"SELECCIONAR_CATEGORIA"})},seleccionarMesaGlobal:function(e){i({data:e,type:"SELECCIONAR_MESA"})},categoria_global:r.categoria_global,mesa_global:r.mesa_global,incrementarPlatoAPedido:function(e){var t=r.pedidos,a=r.mesa_global;if(r.mesa_global){var c=t.find((function(e){return e.objMesa.id===a.id}));if(c){var s=c.platos.find((function(t){return t.id===e.id}));if(s)s.cantidad+=1,i({type:"ACTUALIZAR_PEDIDOS",data:t});else{c.platos.push(Object(x.a)(Object(x.a)({},e),{},{cantidad:1}));var n=t.map((function(e){return e.objMesa.id===c.objMesa.id?c:e}));i({type:"ACTUALIZAR_PEDIDOS",data:n})}}else t.push({estado:"pendiente",objMesa:Object(x.a)({},a),platos:[Object(x.a)(Object(x.a)({},e),{},{cantidad:1})]}),i({type:"ACTUALIZAR_PEDIDOS",data:t})}},pedidos:r.pedidos,restarPlatoAPedido:function(e){var t=r.pedidos,a=r.mesa_global;if(a){var c=t.find((function(e){return e.objMesa.id===a.id}));if(c){var s=c.platos.find((function(t){return t.plato_id===e.plato_id}));s&&(s.cantidad-=1,0===s.cantidad&&(c.platos=c.platos.filter((function(t){return t.plato_id!==e.plato_id})),0===c.platos.length&&(t=t.filter((function(e){return c.objMesa.id!==a.id})))),i({type:"ACTUALIZAR_PEDIDOS",data:t}))}}},borrarPedido:function(){var e=r.pedidos,t=r.mesa_global;e=e.filter((function(e){return e.objMesa.id!==t.id})),i({type:"ACTUALIZAR_PEDIDOS",data:e})},modal_boleta:r.modal_boleta,setModalBoleta:function(e){i({type:"MODAL_BOLETA",data:e})}},children:t})},T=a.p+"static/media/logo.32d5c4da.svg",U=a.p+"static/media/search.c031f9ef.svg",B=function(){var e=Object(c.useContext)(l),t=e.usu_nom,a=e.usu_email,s=e.cerrarSesion;return Object(h.jsxs)("header",{className:"header",children:[Object(h.jsxs)("div",{className:"header__logo",children:[Object(h.jsx)("img",{src:T,alt:""}),console.log(T)]}),Object(h.jsxs)("div",{className:"header__buscador",children:[Object(h.jsx)("img",{src:U,alt:""}),Object(h.jsx)("input",{type:"text",className:"header__input",placeholder:"Busca un t\xe9rmino"})]}),Object(h.jsxs)("div",{className:"header__usuario me-5",children:[Object(h.jsx)(r.b,{className:"btn btn-success me-2",to:"/admin/dashboard",children:"Ir a admin"}),Object(h.jsxs)("button",{onClick:s,className:"btn btn-danger me-4",children:[Object(h.jsx)("i",{class:"fas fa-door-open"}),"Salir"]}),Object(h.jsx)("img",{className:"me-3",src:"https://randomuser.me/api/portraits/men/90.jpg",alt:""}),Object(h.jsx)("span",{className:"me-5",children:t||a})]})]})},G=a.p+"static/media/plato_blanco.255e60bc.svg",J=function(){var e=Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.collection("categorias").get();case 2:if((t=e.sent).docs){e.next=6;break}return alert("Error al consultar categorias"),e.abrupt("return");case 6:return a=t.docs.map((function(e){return Object(x.a)({id:e.id},e.data())})),console.log("categorias"),console.log(a),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.collection("platos").where("categoria_id","==",t).get();case 2:if((a=e.sent).docs){e.next=6;break}return alert("Error al traer los platos por categoria"),e.abrupt("return");case 6:return c=a.docs.map((function(e){return Object(x.a)({id:e.id},e.data())})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!0),r=Object(o.a)(n,2),i=r[0],l=r[1],d=Object(c.useContext)(M),j=d.seleccionarCategoriaGlobal,b=d.categoria_global;return Object(c.useEffect)((function(){l(!0),J().then((function(e){s(e),l(!1)}))}),[]),Object(h.jsx)("nav",{className:"menu",children:Object(h.jsx)("ul",{className:"menu__lista",children:i?Object(h.jsx)("div",{className:"spinner-border",role:"status",children:Object(h.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):a.map((function(e){return Object(h.jsxs)("li",{style:{textAlign:"center"},className:e.id===(null===b||void 0===b?void 0:b.id)?"active":"",onClick:function(){j(e)},children:[Object(h.jsx)("img",{src:G,alt:""}),Object(h.jsx)("span",{children:e.cat_nom})]},e.id)}))})})},H=function(){var e=Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.collection("mesa").get();case 2:if((t=e.sent).docs){e.next=6;break}return alert("Error al consultar mesas"),e.abrupt("return");case 6:return a=t.docs.map((function(e){return Object(x.a)({id:e.id},e.data())})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!0),r=Object(o.a)(n,2),i=r[0],l=r[1],d=Object(c.useContext)(M),j=d.seleccionarMesaGlobal,b=d.mesa_global;return Object(c.useEffect)((function(){l(!0),H().then((function(e){console.log("Mesas"),console.log(e),s(e),l(!1)}))}),[]),Object(h.jsxs)("div",{className:"mesas",children:[Object(h.jsx)("ul",{className:"mesas__lista",children:i?Object(h.jsx)("div",{className:"spinner-border",role:"status",children:Object(h.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):null===a||void 0===a?void 0:a.map((function(e){return Object(h.jsxs)("li",{className:(null===b||void 0===b?void 0:b.mesa_id)===e.id?"mesas__mesa active":"mesas__mesa",onClick:function(){return j(e)},children:[Object(h.jsx)("span",{className:"mesas__titulo",children:"Mesa"}),Object(h.jsx)("span",{className:"mesas__numero",children:e.mesa_nro})]},e.id)}))}),Object(h.jsx)("div",{className:"mesas__info"})]})},Y=function(e){var t=e.objPlato,a=Object(c.useContext)(M),s=a.incrementarPlatoAPedido,n=a.restarPlatoAPedido;return Object(h.jsxs)("div",{className:"carta__plato",children:[Object(h.jsx)("img",{src:t.plato_img,alt:""}),Object(h.jsx)("h4",{className:"carta__titulo",children:t.plato_nom}),Object(h.jsx)("span",{className:"carta__precio",children:t.plato_precio}),Object(h.jsxs)("div",{className:"carta__botones",children:[Object(h.jsx)("button",{className:"boton boton-outline-primary boton-restar",onClick:function(){return n(t)},children:"-1"}),Object(h.jsx)("button",{className:"boton boton-outline-primary boton-sumar",onClick:function(){return s(t)},children:"+1"})]})]})},z=function(){var e=Object(c.useContext)(M).categoria_global,t=Object(c.useState)([]),a=Object(o.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(!0),i=Object(o.a)(r,2),l=i[0],d=i[1];return Object(c.useEffect)((function(){d(!0),e&&F(e.id).then((function(e){console.log("Platos por categoria"),console.log(e),n(e),d(!1)}))}),[e]),Object(h.jsx)("div",{className:"carta__platos",children:e?l?Object(h.jsx)("div",{className:"text-light",children:"Cargando..."}):s.map((function(e){return Object(h.jsx)(Y,{objPlato:e},e.id)})):Object(h.jsx)("h4",{class:"text-light mt-5",children:"Ninguna categoria ha sido seleccionada"})})},V=function(e){var t=e.plato;return Object(h.jsxs)("li",{className:"comanda__item",children:[Object(h.jsxs)("p",{className:"comanda__nombre",children:[Object(h.jsx)("span",{children:Object(h.jsx)("strong",{children:t.plato_nom})}),Object(h.jsxs)("span",{children:["S/",t.plato_precio]})]}),Object(h.jsx)("p",{className:"comanda__cantidad",children:t.cantidad}),Object(h.jsx)("p",{className:"comanda__precio",children:Object(h.jsxs)("strong",{children:["S/",+t.plato_precio*+t.cantidad]})})]})},Q=a(68),W=a.n(Q),q=a(130),K=a(129),X=a(69),ee=a.n(X),te=function(){var e=Object(c.useRef)(),t=Object(c.useContext)(M),a=t.modal_boleta,s=t.setModalBoleta,n=t.borrarPedido;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(K.a,{show:a,onHide:function(){s(!1),n()},size:"xl",children:[Object(h.jsx)(K.a.Header,{closeButton:!0,children:Object(h.jsx)(K.a.Title,{children:"Modal heading"})}),Object(h.jsx)(K.a.Body,{children:Object(h.jsxs)("div",{className:"container",ref:e,children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("div",{className:"card",children:Object(h.jsxs)("div",{className:"card-body p-0",children:[Object(h.jsxs)("div",{className:"row p-5",children:[Object(h.jsx)("div",{className:"col-xl-6",children:Object(h.jsx)("img",{src:"http://via.placeholder.com/400x90?text=logo"})}),Object(h.jsxs)("div",{className:"col-xl-6 text-right",children:[Object(h.jsx)("p",{className:"font-weight-bold mb-1",children:"Invoice #550"}),Object(h.jsx)("p",{className:"text-muted",children:"Due to: 4 Dec, 2019"})]})]}),Object(h.jsx)("hr",{className:"my-5"}),Object(h.jsxs)("div",{className:"row pb-5 p-5",children:[Object(h.jsxs)("div",{className:"col-md-6",children:[Object(h.jsx)("p",{className:"font-weight-bold mb-4",children:"Client Information"}),Object(h.jsx)("p",{className:"mb-1",children:"John Doe, Mrs Emma Downson"}),Object(h.jsx)("p",{children:"Acme Inc"}),Object(h.jsx)("p",{className:"mb-1",children:"Berlin, Germany"}),Object(h.jsx)("p",{className:"mb-1",children:"6781 45P"})]}),Object(h.jsxs)("div",{className:"col-md-6 text-right",children:[Object(h.jsx)("p",{className:"font-weight-bold mb-4",children:"Payment Details"}),Object(h.jsxs)("p",{className:"mb-1",children:[Object(h.jsx)("span",{className:"text-muted",children:"VAT: "})," 1425782"]}),Object(h.jsxs)("p",{className:"mb-1",children:[Object(h.jsx)("span",{className:"text-muted",children:"VAT ID: "})," 10253642"]}),Object(h.jsxs)("p",{className:"mb-1",children:[Object(h.jsx)("span",{className:"text-muted",children:"Payment Type: "})," ","Root"]}),Object(h.jsxs)("p",{className:"mb-1",children:[Object(h.jsx)("span",{className:"text-muted",children:"Name: "})," John Doe"]})]})]}),Object(h.jsx)("div",{className:"row p-5",children:Object(h.jsx)("div",{className:"col-md-12",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"border-0 text-uppercase small font-weight-bold",children:"ID"}),Object(h.jsx)("th",{className:"border-0 text-uppercase small font-weight-bold",children:"Item"}),Object(h.jsx)("th",{className:"border-0 text-uppercase small font-weight-bold",children:"Description"}),Object(h.jsx)("th",{className:"border-0 text-uppercase small font-weight-bold",children:"Quantity"}),Object(h.jsx)("th",{className:"border-0 text-uppercase small font-weight-bold",children:"Unit Cost"}),Object(h.jsx)("th",{className:"border-0 text-uppercase small font-weight-bold",children:"Total"})]})}),Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"1"}),Object(h.jsx)("td",{children:"Software"}),Object(h.jsx)("td",{children:"LTS Versions"}),Object(h.jsx)("td",{children:"21"}),Object(h.jsx)("td",{children:"$321"}),Object(h.jsx)("td",{children:"$3452"})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"1"}),Object(h.jsx)("td",{children:"Software"}),Object(h.jsx)("td",{children:"Support"}),Object(h.jsx)("td",{children:"234"}),Object(h.jsx)("td",{children:"$6356"}),Object(h.jsx)("td",{children:"$23423"})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"1"}),Object(h.jsx)("td",{children:"Software"}),Object(h.jsx)("td",{children:"Sofware Collection"}),Object(h.jsx)("td",{children:"4534"}),Object(h.jsx)("td",{children:"$354"}),Object(h.jsx)("td",{children:"$23434"})]})]})]})})}),Object(h.jsxs)("div",{className:"d-flex flex-row-reverse bg-dark text-white p-4",children:[Object(h.jsxs)("div",{className:"py-3 px-5 text-right",children:[Object(h.jsx)("div",{className:"mb-2",children:"Grand Total"}),Object(h.jsx)("div",{className:"h2 font-weight-light",children:"$234,234"})]}),Object(h.jsxs)("div",{className:"py-3 px-5 text-right",children:[Object(h.jsx)("div",{className:"mb-2",children:"Discount"}),Object(h.jsx)("div",{className:"h2 font-weight-light",children:"10%"})]}),Object(h.jsxs)("div",{className:"py-3 px-5 text-right",children:[Object(h.jsx)("div",{className:"mb-2",children:"Sub - Total amount"}),Object(h.jsx)("div",{className:"h2 font-weight-light",children:"$32,432"})]})]})]})})})}),Object(h.jsxs)("div",{className:"text-light mt-5 mb-5 text-center small",children:["by :"," ",Object(h.jsx)("a",{className:"text-light",target:"!_blank",href:"http://totoprayogo.com",children:"totoprayogo.com"}),"\xf1"]})]})}),Object(h.jsxs)(K.a.Footer,{children:[Object(h.jsx)(ee.a,{trigger:function(){return Object(h.jsx)("button",{className:"btn btn-dark",children:Object(h.jsx)("i",{className:"fa fa-print","aria-hidden":"true"})})},content:function(){return e.current}}),";",Object(h.jsx)("button",{className:"btn btn-danger",onClick:function(){return console.log(e)},children:"Cerrar"})]})]})})},ae=function(){var e=Object(c.useContext)(M),t=e.pedidos,a=e.mesa_global,s=(e.borrarPedido,e.modal_boleta,e.setModalBoleta),n=null;a&&(n=t.find((function(e){return e.objMesa.id===a.id&&"pendiente"===e.estado})));return Object(h.jsxs)("div",{className:"comanda",children:[Object(h.jsx)("h4",{className:"comanda__mesa",children:a?"Mesa ".concat(a.mesa_nro):"Seleccione mesa"}),Object(h.jsx)("p",{className:"comanda__usuario",children:"Carlos Jimenez"}),Object(h.jsx)("hr",{}),a?n?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("ul",{className:"comanda__lista",children:n.platos.map((function(e){return Object(h.jsx)(V,{plato:e},e.id)}))}),Object(h.jsx)("button",{className:"boton boton-success boton-block",onClick:function(){m.a.fire({title:"Pagar el pedido?",text:"Confirme que est\xe1 cancelando el total del pedido",icon:"warning",showCancelButton:!0}).then((function(e){if(e.isConfirmed){var c=t.find((function(e){return e.objMesa.id===a.id})).platos.map((function(e){return{plato_id:e.id,pedidoPlato_cant:e.cantidad}})),n={pedido_fech:W()().format("YYYY-MM-DD HH:mm:ss"),pedido_nro:Object(q.a)(),pedido_est:"pagado",usu_id:2,mesa:{id:a.id,nro:a.mesa_nro},pedidoPlatos:c};w(n).then((function(e){console.log("Pedido creado con exito"),console.log(e),e.id&&(m.a.fire({title:"Hecho!",text:"Pedido registrado en la base de datos",icon:"success",timer:700,position:"top-right"}),s(!0))}))}}))},children:"PAGAR"})]}):Object(h.jsx)("div",{children:"Mesa sin pedidos"}):Object(h.jsx)("div",{children:"Seleccione una mesa"}),Object(h.jsx)(te,{})]})},ce=function(){var e=Object(c.useContext)(M),t=e.categoria_global,a=e.mesa_global;return console.log(null===t||void 0===t?void 0:t.cat_nom),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(B,{}),Object(h.jsxs)("main",{className:"pos-container",children:[Object(h.jsx)($,{}),Object(h.jsxs)("section",{className:"tabla",children:[Object(h.jsx)(Z,{}),Object(h.jsxs)("div",{className:"pedido",children:[Object(h.jsxs)("div",{className:"carta",children:[Object(h.jsxs)("h3",{children:["Lista de Platos Categoria: \xa0","",Object(h.jsx)("span",{className:"color-secundario",children:(null===t||void 0===t?void 0:t.cat_nom)||"Seleccione la categoria"})]}),Object(h.jsx)(z,{})]}),Object(h.jsxs)("div",{className:"boleta",children:[Object(h.jsxs)("h3",{children:["Pedido Mesa: \xa0",Object(h.jsx)("span",{className:"color-secundario",children:null===a||void 0===a?void 0:a.mesa_nro})]}),Object(h.jsx)("hr",{}),Object(h.jsx)(ae,{})]})]})]})]})]})},se=function(){return Object(h.jsx)(R,{children:Object(h.jsx)(i.d,{children:Object(h.jsx)(i.b,{path:"/pos/pedido",component:ce})})})},ne=function(e){var t=e.path,a=e.component,s=Object(c.useContext)(l),n=s.isAuthenticated;return s.cargando?Object(h.jsx)("div",{children:"Cargando..."}):n?Object(h.jsx)(i.b,{path:t,component:a}):Object(h.jsx)(i.a,{to:"/auth/login"})},re=function(){return Object(h.jsx)(r.a,{children:Object(h.jsx)(O,{children:Object(h.jsxs)(i.d,{children:[Object(h.jsx)(ne,{path:"/pos",component:se}),Object(h.jsx)(ne,{path:"/admin",component:I}),Object(h.jsx)(i.b,{path:"/auth",component:D}),Object(h.jsx)(i.a,{to:"/auth/login"})]})})})};a(119),a(120);n.a.render(Object(h.jsx)(re,{}),document.getElementById("root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.aedd2d4a.chunk.js.map